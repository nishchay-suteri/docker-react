language: generic
sudo: required

services:
  - docker

before_install:
  - docker build -t nishchay271095/docker-react -f Dockerfile.dev . 
  # we are using travis-ci for tests. Production build don't have tests. 
  # We are using -t(tagging) so that we don't have to copy-paste image_id

script:
  - docker run -e CI=true nishchay271095/docker-react npm run test
  # docker run -e CI=true <image_id> <default_command> 
  # -e CI=true is required so that test exit with some proper code.
  # if travis ci receives any exit code other than 0 => TEST FAILED